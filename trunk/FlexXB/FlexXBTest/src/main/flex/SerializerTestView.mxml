<?xml version="1.0" encoding="utf-8"?>
<!--
-   FlexXB - an annotation based xml serializer for Flex and Air applications 
-   Copyright (C) 2008 Alex Ciobanu
-
-   This program is free software: you can redistribute it and/or modify
-   it under the terms of the GNU General Public License as published by
-   the Free Software Foundation, either version 3 of the License, or
-   (at your option) any later version.
-
-   This program is distributed in the hope that it will be useful,
-   but WITHOUT ANY WARRANTY; without even the implied warranty of
-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-   GNU General Public License for more details.
-
-   You should have received a copy of the GNU General Public License
-   along with this program.  If not, see <http://www.gnu.org/licenses/>. 
-->
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:defusion="org.defusion.flexunit.*" layout="absolute" creationComplete="init()">
	<mx:Script>
		<![CDATA[
			import com.googlecode.testData.Mock;
			import com.googlecode.testData.XmlPathObject;
			import com.googlecode.flexxb.XMLSerializer;
			import flash.utils.describeType;
			import mx.controls.Alert;
			import com.googlecode.AllTests;
			import mx.core.Container;
			import com.googlecode.flexxb.XmlTests;
			import flexunit.junit.JUnitTestRunner; 
			import org.defusion.flexunit.FlexUnitRunner;
			
			private function init() : void{
				var test : XML = <team id='23'>teamName<test></test>teamVersion</team>;
				var children : XMLList = test.children();
				var name : Object = (children[2] as XML).name();
				name = test.name();
				var obj : XmlPathObject = new XmlPathObject();
				obj.identity = 6;
				obj.reference = "SomeReference";
				//obj.textField = "MyTextField";
				obj.list = [new Mock(), "doi","trei"];
				var xml : XML = XMLSerializer.instance.serialize(obj);
				var obj2 : XmlPathObject = XMLSerializer.instance.deserialize(xml, XmlPathObject) as XmlPathObject;
				testRunner.testsToRun = [AllTests.allTests(), XmlTests.suite()];
				/*if(Application.application.parameters["runTestOnDemand"] != "true"){
					var runner : JUnitTestRunner = new JUnitTestRunner();
					runner.run(AllTests.allTests());
					Alert.show("running");
				}*/
			}
		]]>
	</mx:Script>
	<defusion:FlexUnitRunner id="testRunner" width="100%" height="100%" />
</mx:Application>
